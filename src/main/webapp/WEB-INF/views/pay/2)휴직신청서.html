<!doctype html>
<html lang="en" data-bs-theme="auto">

<head>
    <script src="../assets/js/color-modes.js"></script>

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Mark Otto, Jacob Thornton, and Bootstrap contributors">
    <meta name="generator" content="Hugo 0.122.0">
    <title>메인페이지</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css"/>
    <link rel="canonical" href="https://getbootstrap.com/docs/5.3/examples/sidebars/">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@docsearch/css@3">

    <link href="../../../resources/css/common/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.2/dist/css/bootstrap.min.css">

    <script src="https://cdn.jsdelivr.net/npm/jquery@3.7.1/dist/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.16.1/dist/umd/popper.min.js"></script>
    <link href="../../../resources/css/common/sidebars.css" rel="stylesheet">
    <script src="../../../resources/js/common/bootstrap.bundle.min.js"></script>
    <script src="../../../resources/js/common/sidebars.js"></script>

    <link href="/src/main/webapp/resources/css/mainPage/mainPage.css" rel="stylesheet">
    <!-- 모달 관련 -->
    <script src="/src/main/webapp/resources/js/iziModal.min.js"></script>
    <link rel="stylesheet" href="/src/main/webapp/resources/css/iziModal.min.css">

    
    <style>
        .b-example-divider {
            width: 100%;
            height: 3rem;
            background-color: rgba(0, 0, 0, .1);
            border: solid rgba(0, 0, 0, .15);
            border-width: 1px 0;
            box-shadow: inset 0 .5em 1.5em rgba(0, 0, 0, .1), inset 0 .125em .5em rgba(0, 0, 0, .15);
        }

        .bi {
            vertical-align: -.125em;
            fill: currentColor;
        }

        .nav-scroller {
            position: relative;
            z-index: 2;
            height: 2.75rem;
            overflow-y: hidden;
        }

        .nav-scroller .nav {
            display: flex;
            flex-wrap: nowrap;
            padding-bottom: 1rem;
            margin-top: -1px;
            overflow-x: auto;
            text-align: center;
            white-space: nowrap;
            -webkit-overflow-scrolling: touch;
        }

        .active .bi {
            display: block !important;
        }

        /* content의 height와 height 값을 동일하게 */
        .b-example-vr {
            flex-shrink: 0;
            width: 1.5rem;
            height: 1200px;
        }

        .content {
            height: 1200px;
            width: 1500px;
        }


        /*----- 결재공통 스타일------------*/
        .left_con{
            display: flex;
            flex-direction: column;
            margin: auto;
           
        }
        .left_con h3{font-size: 50px; text-align: center;}
        .left_con>div{margin: 20px; padding-bottom: 20px;}
        
        .sing_name{
            height: 100px;
            width: 130px;
            border: 1px solid black;
        }
        #sign_table{
            text-align: center;
            width: 500px;
            display: flex;
            justify-content: end;
            align-items: end;
            padding-top: 50px;
            height: 181px;
            border: 1px solid black;
            margin-left: 40px;
        }
        #sign_top{
            display: flex;
            align-items: center;
            justify-content: space-around;

        }

        #sign_div_left{
            padding-right: 280px;
        }


        #sign_left{width: 310px; border: 1px solid black;}
        #sign_left tr{height: 50px; border: 1px solid black;}
        #sign_table tr>th{width: 50px; border: 1px solid black;}
        table th{background-color: rgba(192, 192, 192, 0.548); border: 1px solid black;}
        table td{background-color: rgba(250, 250, 250, 0.226);border: 1px solid black;}
        table input{background-color: rgba(250, 250, 250, 0.226);border: 1px solid black;}
        table textarea{background-color: rgba(250, 250, 250, 0.226);border: 1px solid black;}

        /*--------------------------------------*/

        .table_middle{
           margin: auto;
           width: 1130px;
        }
        .table_middle>table{width: 100%; font-size: 20px;}
        .table_middle tr{height: 40px;}
        .table_middle input{height: 40px; width: 100%;}
        .table_middle textarea{width: 100%; height: 100%; resize: none;}

        #date_td>input{width: 200px;}
        
        /*-----------------*/
       
       /*--------버튼 스타일----------*/
       #btn_div{
            padding-top: 40px;
            margin: auto;
            display: flex;
            justify-content: center;
            align-items: center;
        }
        #btn_div button{
            margin: 30px;
        }
       
       /*---모달 스타일--------*/
        .m_content_style {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: space-around;
        }

        #m_co_top{
            width: 500px;
            height: 500px;
            margin: 10px;
            display: flex;
            justify-content: space-around;
            align-items: center;
        }
        #m_co1{border: 3px solid #FEEFAD; width: 40%; height: 100%; display: flex; flex-direction: column;}
        #m_co1 button { border: none; background-color: white; text-align: left;}
        #m_co2{border: 3px solid #FEEFAD; width: 40%; height: 100%;}
        #reset_div{width: 10%; display: flex; justify-content: end; align-items: end; height: 100%;}
        #reset_button{background-color: white; border: 1px solid white;}
        
        #tr_name{height: 30px;}
        #m_co1 ul{display: none;}
        #modal_btn{width: 100%; border:#ffffff solid 2px; background-color: #ffffff;; height: auto;}
        /*----------------*/
        
        /*----------------------------*/
    </style>


    <!-- Custom styles for this template -->
    <link href="../../resources/css/common/sidebars.css" rel="stylesheet">
</head>

<body>

    <main class="d-flex flex-nowrap">
        <div class="flex-shrink-0 p-3" style="width: 280px;">
            <a href="/"
                class="d-flex align-items-center pb-3 mb-3 link-body-emphasis text-decoration-none border-bottom">
                <svg class="bi pe-none me-2" width="30" height="24">
                    <use xlink:href="#bootstrap" />
                </svg>
                <span class="fs-5 fw-semibold">회사로고</span>
            </a>
            <ul class="list-unstyled ps-0">
                <li class="mb-1">
                    <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed"
                        data-bs-toggle="collapse" data-bs-target="#home-collapse" aria-expanded="true">
                        Home
                    </button>
                    <div class="collapse show" id="home-collapse">
                        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Overview</a>
                            </li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Updates</a>
                            </li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Reports</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed"
                        data-bs-toggle="collapse" data-bs-target="#dashboard-collapse" aria-expanded="false">
                        Dashboard
                    </button>
                    <div class="collapse" id="dashboard-collapse">
                        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Overview</a>
                            </li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Weekly</a>
                            </li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Monthly</a>
                            </li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Annually</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="mb-1">
                    <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed"
                        data-bs-toggle="collapse" data-bs-target="#orders-collapse" aria-expanded="false">
                        Orders
                    </button>
                    <div class="collapse" id="orders-collapse">
                        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">New</a></li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Processed</a>
                            </li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Shipped</a>
                            </li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Returned</a>
                            </li>
                        </ul>
                    </div>
                </li>
                <li class="border-top my-3"></li>
                <li class="mb-1">
                    <button class="btn btn-toggle d-inline-flex align-items-center rounded border-0 collapsed"
                        data-bs-toggle="collapse" data-bs-target="#account-collapse" aria-expanded="false">
                        Account
                    </button>
                    <div class="collapse" id="account-collapse">
                        <ul class="btn-toggle-nav list-unstyled fw-normal pb-1 small">
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">New...</a>
                            </li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Profile</a>
                            </li>
                            <li><a href="#"
                                    class="link-body-emphasis d-inline-flex text-decoration-none rounded">Settings</a>
                            </li>
                            <li><a href="#" class="link-body-emphasis d-inline-flex text-decoration-none rounded">Sign
                                    out</a></li>
                        </ul>
                    </div>
                </li>
            </ul>
        </div>

        <div class="b-example-divider b-example-vr"></div>

        <!-- content 추가 -->
        <div class="content p-4">
            <!-- 프로필 영역 -->
            <div class="informations">
                <!-- informations left area start -->
                <div class="left_con">
                    <div><h3>휴직신청서</h3></div>
                    <form action="">
                        <div id="sign_top">
                            <div id="sign_div_left">
                                <table border="1" id="sign_left">
                                    <tr>
                                        <th>문서번호</th>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <th>부  서</th>
                                        <td>운영팀</td>
                                    </tr>
                                    <tr>
                                        <th>기안일</th>
                                        <td><input type="date"></td>
                                    </tr>
                                    <tr>
                                        <th>기안자</th>
                                        <td>홍길동</td>
                                    </tr>
                                    <tr>
                                        <th>상태</th>
                                        <td>
                                            <select name="" id="">
                                                <option value="">보통</option>
                                                <option value="">긴급</option>
                                            </select>
                                        </td>
                                    </tr>
                                </table>
                            </div>
                            <div id="sign_div_rigth">
                                <table border="1" id="sign_table">
                                    <tr>
                                        <th colspan="6">
                                            <button data-izimodal-open="#modal" id="modal_btn">▶결재승인자 선택◀</button>
                                            <div id="modal">
                                                <!-- Modal content -->
                                                <!-- 스타일에 한해서는 이런식으로 class명을 주시기 바랍니다. -->
                                                <div class="m_content_style">
                                                    <div id="m_co_top">
                                                        <div id="m_co1">
                                                            <button class="atag">부서1</button>
                                                            <ul>
                                                                <button class="btn_result">홍길동</button><br>
                                                                <button class="btn_result">김말순</button><br>
                                                                <button class="btn_result">홍길동</button><br>
                                                                <button class="btn_result">김말순</button><br>
                                                                <button class="btn_result">김말순</button><br>
                                                            </ul>
                                                            <button class="atag">부서2</button>
                                                            <ul>
                                                                <button class="btn_result">홍길동</button><br>
                                                                <button class="btn_result">김말순</button><br>
                                                                <button class="btn_result">홍길동</button><br>
                                                                <button class="btn_result">김말순</button><br>
                                                                <button class="btn_result">김말순</button><br>
                                                            </ul>
                                                            <button class="atag">부서3</button>
                                                            <ul>
                                                                <button class="btn_result">홍길동</button><br>
                                                                <button class="btn_result">김말순</button><br>
                                                                <button class="btn_result">홍길동</button><br>
                                                                <button class="btn_result">김말순</button><br>
                                                                <button class="btn_result">김말순</button><br>
                                                            </ul>
                                                        </div>
                                                        <div>
                                                            <svg xmlns="http://www.w3.org/2000/svg" width="30" height="30" fill="currentColor" class="bi bi-chevron-double-right" viewBox="0 0 16 16" style="margin: 20px;">
                                                                <path fill-rule="evenodd" d="M3.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L9.293 8 3.646 2.354a.5.5 0 0 1 0-.708"/>
                                                                <path fill-rule="evenodd" d="M7.646 1.646a.5.5 0 0 1 .708 0l6 6a.5.5 0 0 1 0 .708l-6 6a.5.5 0 0 1-.708-.708L13.293 8 7.646 2.354a.5.5 0 0 1 0-.708"/>
                                                            </svg>
                                                        </div>
                                                        <div id="m_co2"></div>
                                                        <div id="reset_div">
                                                            <div>
                                                                
                                                            </div>
                                                            <div>
                                                                <button id="reset_button">
                                                                    <svg xmlns="http://www.w3.org/2000/svg" width="25" height="25" fill="currentColor" class="bi bi-dash-circle-fill" viewBox="0 0 16 16">
                                                                        <path d="M16 8A8 8 0 1 1 0 8a8 8 0 0 1 16 0M4.5 7.5a.5.5 0 0 0 0 1h7a.5.5 0 0 0 0-1z"/>
                                                                    </svg>
                                                                </button>
                                                            </div>
                                                            <input type="hidden" name="1차승인부서" id="firstb">
                                                            <input type="hidden" name="2차승인부서" id="middleb">
                                                            <input type="hidden" name="3차승인부서" id="lastb">
                                                            <input type="hidden" name="1차승인이름" id="first_name">
                                                            <input type="hidden" name="2차승인이름" id="middle_name">
                                                            <input type="hidden" name="3차승인이름" id="last_name">    
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </th>
                                    </tr>
                                    <tr id="tr_name">
                                        <th rowspan="3">승 <br> 인</th>
                                        <td id="f_name"></td>
                                        <td id="m_name"></td>
                                        <td id="l_name"></td>
                                        <th rowspan="3">결 <br> 재</th>
                                        <td></td>
                                    </tr>
                                    <tr>
                                        <td class="sing_name"><div>김사원도장</div></td>
                                        <td class="sing_name">
                                            <div>
                                            </div>
                                        </td>
                                        <td class="sing_name">
                                            <div>
                                            </div>
                                        </td>
                                        <td class="sing_name" id="div_modal">
                                            <div>
                                                
                                            </div>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>김사원승인일자</td>
                                        <td>박부장승인일자</td>
                                        <td>최사장승인일자</td>
                                        <td>결재일자</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                        <div class="table_middle">
                            <table border="1">
                                <tr>
                                    <th>제목</th>
                                    <td><input type="text"></td>
                                </tr>
                                <tr>
                                    <th>성명</th>
                                    <td><input type="text" value="홍길동"></td>
                                </tr>
                                <tr>
                                    <th>소속</th>
                                    <td><input type="text" value=""></td>
                                </tr>
                                <tr>
                                    <th>기간</th>
                                    <td id="date_td"><input type="date" value=""> ─ <input type="date" value=""></td>
                                    
                                </tr>
                                <tr>
                                    <th>사유</th>
                                    <td>
                                        <textarea name="" id="" cols="30" rows="10"></textarea>
                                    </td>
                                </tr>

                            </table>
                        </div>
                        <!--버튼 영역-->
                        <div id="btn_div">
                            <button type="button" class="btn btn-primary" onclick="submitbtn();">제출</button>
                            <button type="button" class="btn btn-warning" onclick="alert('저장이 완료되었습니다.');">저장</button>
                            <button type="reset" class="btn btn-danger" id="reset_btn">초기화</button>
                        </div>
                        <!------------>
                    </form>
                </div>
            </div>
        </div>

        
        <script>
            function submitbtn(){
                let sbtn = confirm('정말로 제출하시겠습니까?');
                if(sbtn == true){
                    alert("제출이 완료되었습니다.");
                }
            }
            
            $("#reset_btn").click(function(){
                if(confirm("정말로 초기화 하시겠습니까?") == true){
                    return;
                }else{
                    return false;
                }
            })

            $(document).ready(function(){
                $(".atag").click(function(){

                const $p = $(this).next();
                console.log($p);

                if($p.css("display") == "none"){

                    $(this).siblings("ul").slideUp();

                    $p.slideDown();
                }else{
                    $p.slideUp();
                } 
                })

            })

            
            $(document).on("click", "#reset_button", function(){
                if(confirm("초기화 하시겠습니까?")){
                    $("#m_co2").children().remove();
                    $("#f_name").text("");
                    $("#m_name").text("");
                    $("#l_name").text("");
                }
                    
            })

           
            $(document).on("click", ".btn_result", function(){
                  
                    let div = document.createElement("div");
                    div.className = "success";
                    $("#m_co2").append(div);
                    div.append($(this).text());
                    
                    //map => 객체생성 클릭한 요소의 text값을 map안에 차곡차곡 return해서 담고 .get() 배열로 얻어낸다.
                    const childrenTextArray = $("#m_co2").children().map(function() {
                        return $(this).text();
                    }).get();
                    
                
                    if($("#m_co2").children().length == 1){
                        alert("1차 승인자로 선택하였습니다.");
                        $("#f_name").append(childrenTextArray[0]);
                        $("#first_name").val($(this).text());
                        $("#firstb").val($(this).parent().prev().text());
                        $("#m_co2").children().eq(0).prepend("<b>1차</b><br><" + $(this).parent().prev().text() + ">");
                    }else if($("#m_co2").children().length == 2){
                        alert("2차 승인자로 선택하였습니다.");
                        $("#m_name").append(childrenTextArray[1]);
                        $("#middle_name").val($(this).text());
                        $("#middleb").val($(this).parent().prev().text());
                        $("#m_co2").children().eq(1).prepend("<b>2차</b><br><" + $(this).parent().prev().text() + ">");


                        /*
                        let duplicateFound = false;
                        for (let i = 0; i < childrenTextArray.length; i++) {
                            if ($(".btn_result").children().text() === childrenTextArray[i]) {
                                duplicateFound = true;
                                alert("중복된 승인자가 존재합니다.");
                                break; // 중복이 발견되면 루프를 중단합니다.
                            }
                        }
                        if (!duplicateFound) {
                            alert("2차 승인자로 선택하였습니다.");
                            $("#f_name").append(childrenTextArray[0]);
                        }
                        */
                       
                    }else if($("#m_co2").children().length == 3){
                        alert("3차 승인자로 선택하였습니다.");
                        $("#l_name").append(childrenTextArray[2]);
                        $("#last_name").val($(this).text());
                        $("#lastb").val($(this).parent().prev().text());
                        $("#m_co2").children().eq(2).prepend("<b>3차</b><br><" + $(this).parent().prev().text() + ">");
                    }else if($("#m_co2").children().length >= 4){
                        alert("더이상 승인자를 선택할 수 없습니다.");
                        $("#m_co2").children().eq(3).remove();
                      
                    }

                   
            })

        
        


        </script>

        <script>
            // 1. 해당 아이디의 모달 등록이 필요함
            $('#modal').iziModal({
                title: '결재선지정',
                //subtitle: '수정도 가능합니다.',
                headerColor: '#FEEFAD', // 헤더 색깔
                theme: '', //Theme of the modal, can be empty or "light".
                padding: '15px', // content안의 padding
                //radius: 10, // 모달 외각의 선 둥글기
                group: 'name111',
                loop: true,
                arrowKeys: true,
                navigateCaption: true,
                navigateArrows: true,
                zindex: 300, // zindex 모달의 화면 우선 순위 입니다. 
                focusInput: true, // 가장 맨 위에 보이게 해주는 속성값
                restoreDefaultContent: false, // 모달을 다시 키면 값을 초기화
                //autoOpen: 200, // true or false 자동으로 모달을 띠워줌 | milliseconds  설정 가능
                //openFullscreen: true, // 전체화면으로 모달이  켜짐
                //fullscreen: true, // 전체화면 버튼 활성화
                // overlayClose: true, // 배경을 클릭시 모달창이 닫히는 설정
                // overlayColor: 'rgb(207 152 152 / 40%)', // 뒤에 흐림 배경색 변경
                // timeout: 3000, // 자동으로 창을 닫음 milliseconds 가능
                // timeoutProgressbar: true,// 창을 닫음 시간을 보여줌
                // timeoutProgressbarColor: 'rgba(100,200,255,0.5)', // 창을 닫음 바 컬러
                // transitionIn: 'comingIn', // 모달 출현시 이벤트 
                //comingIn, bounceInDown, bounceInUp, fadeInDown, fadeInUp, fadeInLeft, fadeInRight, flipInX
                // transitionOut: 'bounceOutDown', // 모달 숨김시 이벤트
                //comingOut, bounceOutDown, bounceOutUp, fadeOutDown, fadeOutUp, , fadeOutLeft, fadeOutRight, flipOutX
            });

            $('#modal-iframe').iziModal({
                iframe: true,
                iframeURL: 'https://www.youtube.com/watch?v=tPDGlPqhzIc'
            })

            // 2. 요소에 이벤트가 일어 났을떄 모달이 작동
            $("#modal-test").on('click', function () {
                // event.preventDefault(); //위의 클릭 이벤트가 일어나는 동안 다른 이벤트가 발생하지 않도록해주는 명령어

                $('#modal').iziModal('open'); // 모달을 출현
                // $('#modal').iziModal('close'); // 모달을 닫음
                // $('#modal').iziModal('toggle'); // 모달 토글
                // $('#modal').iziModal('next'); // 모달 다음 이동
                // $('#modal').iziModal('prev'); // 모달 이전 이동
                // 이전 다음은 그룹으로 모달을 지정 해야만 함
                // data-izimodal-group="grupo1"
            });


        </script>
            <!-- content 끝 -->
        <!-- content 끝 -->
    </main>
    <script src="../../resources/js/common/bootstrap.bundle.min.js"></script>

    <script src="../../resources/js/common/sidebars.js"></script>
</body>

</html>
